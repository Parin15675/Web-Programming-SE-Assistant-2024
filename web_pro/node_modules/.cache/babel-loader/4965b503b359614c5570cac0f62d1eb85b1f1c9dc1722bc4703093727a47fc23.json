{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\OneDrive\\\\Documents\\\\GitHub\\\\Web_pro_2024\\\\web_pro\\\\src\\\\components\\\\Calendar\\\\Calendar.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './Calendar.css';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\n\n// Helper function to reset the time of a Date object to midnight\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst resetTimeToMidnight = date => {\n  const newDate = new Date(date);\n  newDate.setHours(0, 0, 0, 0); // Set time to 00:00:00\n  return newDate;\n};\nconst Calendar = ({\n  onSelectSlot = () => {},\n  videoTitle = null,\n  videoDuration = null,\n  videoId = null\n}) => {\n  _s();\n  const profile = useSelector(state => state.profile);\n  const [currentDate, setCurrentDate] = useState(resetTimeToMidnight(new Date()));\n  const [view, setView] = useState('week');\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [title, setTitle] = useState(videoTitle || \"\");\n  const [details, setDetails] = useState(\"\");\n  const [color, setColor] = useState(\"#e81416\");\n  const [schedules, setSchedules] = useState({}); // Store schedules in an object\n  const [startTime, setStartTime] = useState(null);\n  const [endTime, setEndTime] = useState(null);\n  const [youtubeVideoId, setYoutubeVideoId] = useState(videoId || null);\n\n  // Auto-calculate endTime if videoDuration is provided\n  useEffect(() => {\n    if (videoDuration && startTime && startTime.minute !== undefined) {\n      const calculatedEndTime = startTime.minute + Math.floor(videoDuration); // Ensure videoDuration is in minutes\n      setEndTime({\n        minute: calculatedEndTime\n      });\n    }\n  }, [videoDuration, startTime]);\n\n  // Load schedules from local storage when component mounts\n  useEffect(() => {\n    const storedSchedules = localStorage.getItem('calendarSchedules');\n    if (storedSchedules) {\n      setSchedules(JSON.parse(storedSchedules));\n    }\n  }, []);\n  useEffect(() => {\n    if (profile && profile.email) {\n      // Fetch the schedules for the logged-in user\n      axios.get(`http://localhost:8000/get_schedules/${profile.email}`).then(response => {\n        setSchedules(response.data); // Load schedules from the server\n      }).catch(error => {\n        console.error('Error fetching schedules:', error);\n      });\n    }\n  }, [profile]);\n\n  // Helper function to format date as YYYY-MM-DD\n  const formatDate = date => {\n    return date.toISOString().split('T')[0];\n  };\n\n  // Helper function to get the week for the current date\n  const getCurrentWeek = currentDate => {\n    const startOfWeek = new Date(currentDate);\n    startOfWeek.setDate(currentDate.getDate() - currentDate.getDay());\n    const week = [];\n    for (let i = 0; i < 7; i++) {\n      const day = new Date(startOfWeek);\n      day.setDate(startOfWeek.getDate() + i);\n      week.push(day);\n    }\n    return week;\n  };\n\n  // Helper function to get days in a specific month\n  const getMonthDays = date => {\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    const startOfMonth = new Date(year, month, 1);\n    const endOfMonth = new Date(year, month + 1, 0);\n    const days = [];\n    for (let i = 0; i < startOfMonth.getDay(); i++) {\n      days.push(null);\n    }\n    for (let day = 1; day <= endOfMonth.getDate(); day++) {\n      days.push(new Date(year, month, day));\n    }\n    return days;\n  };\n  const currentMonth = getMonthDays(currentDate);\n  const currentWeek = getCurrentWeek(currentDate);\n\n  // Handle when a time slot is clicked\n  const handleSlotClick = (minute, day) => {\n    var _schedules$dayKey;\n    const dayKey = formatDate(day);\n    const event = (_schedules$dayKey = schedules[dayKey]) === null || _schedules$dayKey === void 0 ? void 0 : _schedules$dayKey[minute];\n    if (event) {\n      setTitle(event.title);\n      setDetails(event.details);\n      setColor(event.color);\n      setStartTime({\n        minute: event.startMinute,\n        day\n      });\n      setEndTime({\n        minute: event.endMinute\n      });\n      setSelectedSlot({\n        startMinute: event.startMinute,\n        endMinute: event.endMinute,\n        day\n      });\n      setYoutubeVideoId(event.youtubeVideoId || null);\n      setIsModalOpen(true);\n    } else {\n      if (!startTime) {\n        // Set start time if it's not set yet\n        setStartTime({\n          minute,\n          day\n        });\n        setColor('#e81416');\n      } else if (videoDuration) {\n        // Calculate end time based on the duration and start time\n        const calculatedEndTime = minute + Math.floor(videoDuration); // Make sure we're adding in minutes\n        setEndTime({\n          minute: calculatedEndTime\n        });\n        setSelectedSlot({\n          startMinute: minute,\n          endMinute: calculatedEndTime,\n          day\n        });\n        setColor('#e81416');\n        setYoutubeVideoId(videoId);\n        setIsModalOpen(true);\n      } else if (!endTime) {\n        // For non-video scheduling\n        const nextHourMinute = Math.ceil(minute / 60) * 60; // Round to the next hour\n        setEndTime({\n          minute: nextHourMinute\n        });\n        setSelectedSlot({\n          startMinute: startTime.minute,\n          endMinute: minute,\n          day\n        });\n        setColor('#e81416');\n        setYoutubeVideoId(videoId);\n        setIsModalOpen(true);\n      }\n    }\n  };\n  const handleSaveSchedule = () => {\n    const dayKey = formatDate((selectedSlot === null || selectedSlot === void 0 ? void 0 : selectedSlot.day) || currentDate);\n    const newSchedules = {\n      ...schedules\n    };\n    const startMinute = (startTime === null || startTime === void 0 ? void 0 : startTime.minute) || 0;\n    const endMinute = (endTime === null || endTime === void 0 ? void 0 : endTime.minute) || startMinute;\n    for (let i = startMinute; i <= endMinute; i++) {\n      if (!newSchedules[dayKey]) {\n        newSchedules[dayKey] = {};\n      }\n      newSchedules[dayKey][i] = {\n        title: title,\n        details,\n        color,\n        startMinute,\n        endMinute,\n        youtubeVideoId\n      };\n    }\n    setSchedules(newSchedules);\n\n    // Save to backend\n    axios.post('http://localhost:8000/save_schedules/', {\n      gmail: profile.email,\n      schedules: newSchedules\n    }).then(response => {\n      console.log(\"Schedules saved successfully!\");\n    }).catch(error => {\n      console.error(\"Error saving schedules:\", error);\n    });\n    setIsModalOpen(false);\n    resetForm();\n  };\n  const handleDeleteSchedule = () => {\n    const dayKey = formatDate(selectedSlot.day);\n    const newSchedules = {\n      ...schedules\n    };\n    const startMinute = startTime.minute;\n    const endMinute = endTime.minute;\n\n    // Remove the schedule from the selected minutes\n    for (let i = startMinute; i <= endMinute; i++) {\n      if (newSchedules[dayKey]) {\n        delete newSchedules[dayKey][i];\n      }\n    }\n\n    // If the day has no more events, delete the day entry\n    if (Object.keys(newSchedules[dayKey]).length === 0) {\n      delete newSchedules[dayKey];\n    }\n    setSchedules(newSchedules);\n    localStorage.setItem('calendarSchedules', JSON.stringify(newSchedules)); // Update local storage\n    setIsModalOpen(false);\n    setStartTime(null);\n    setEndTime(null);\n    setTitle(\"\");\n    setDetails(\"\");\n    setColor(\"#e81416\"); // Reset to default color\n  };\n  const clearAllSchedules = () => {\n    localStorage.removeItem('calendarSchedules'); // Remove from localStorage\n    setSchedules({}); // Clear schedules from state\n  };\n  const prevPeriod = () => {\n    const newDate = new Date(currentDate);\n    if (view === 'day') {\n      newDate.setDate(currentDate.getDate() - 1);\n    } else if (view === 'week') {\n      newDate.setDate(currentDate.getDate() - 7);\n    } else if (view === 'month') {\n      newDate.setMonth(currentDate.getMonth() - 1);\n    }\n    setCurrentDate(resetTimeToMidnight(newDate));\n  };\n  const nextPeriod = () => {\n    const newDate = new Date(currentDate);\n    if (view === 'day') {\n      newDate.setDate(currentDate.getDate() + 1);\n    } else if (view === 'week') {\n      newDate.setDate(currentDate.getDate() + 7);\n    } else if (view === 'month') {\n      newDate.setMonth(currentDate.getMonth() + 1);\n    }\n    setCurrentDate(resetTimeToMidnight(newDate));\n  };\n  const getSchedule = (day, minute) => {\n    var _schedules$dayKey2;\n    const dayKey = formatDate(day);\n    return ((_schedules$dayKey2 = schedules[dayKey]) === null || _schedules$dayKey2 === void 0 ? void 0 : _schedules$dayKey2[minute]) || {}; // Access the minute's schedule\n  };\n  const resetForm = () => {\n    setTitle(\"\"); // Reset title\n    setDetails(\"\"); // Reset details\n    setColor(\"#e81416\"); // Reset color\n    setStartTime(null); // Reset start time\n    setEndTime(null); // Reset end time\n  };\n  const onModalClose = () => {\n    setIsModalOpen(false);\n\n    // Reset modal state when closing\n    setStartTime(null);\n    setEndTime(null);\n    setTitle(\"\");\n    setDetails(\"\");\n    setColor(\"#e81416\"); // Reset to default color\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('day'),\n          children: \"Day\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('week'),\n          children: \"Week\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('month'),\n          children: \"Month\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          width: '10%'\n        },\n        onClick: prevPeriod,\n        children: \"<\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          marginTop: '1.5%',\n          marginLeft: '1.5%',\n          marginRight: '1.5%',\n          width: '20%',\n          color: 'black',\n          fontSize: '14px',\n          backgroundColor: 'transparent'\n        },\n        children: view === 'week' ? `${currentWeek[0].toLocaleDateString('en-US', {\n          month: 'long',\n          year: 'numeric'\n        })}` : view === 'day' ? currentDate.toLocaleDateString('en-US', {\n          weekday: 'short',\n          month: 'long',\n          day: 'numeric',\n          year: 'numeric'\n        }) : currentDate.toLocaleDateString('en-US', {\n          month: 'long',\n          year: 'numeric'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          width: '10%',\n          margin: 'none'\n        },\n        onClick: nextPeriod,\n        children: \">\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }, this), (view === 'day' || view === 'week') && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-header\",\n      children: [view === 'week' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-column\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 37\n      }, this), \" \", view === 'week' ? currentWeek.map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-header-day\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'inline-block',\n            color: 'white',\n            fontSize: '14px',\n            cursor: 'pointer'\n          },\n          className: \"calendar-day-number\",\n          onClick: () => {\n            setCurrentDate(resetTimeToMidnight(day));\n            setView('day');\n          },\n          children: day.toLocaleDateString('en-US', {\n            weekday: 'short',\n            day: 'numeric'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 21\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-header-day-day\",\n        children: currentDate.toLocaleDateString('en-US', {\n          weekday: 'short',\n          day: 'numeric'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }, this), view === 'month' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-header-month\",\n      children: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-header-day\",\n        children: day\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-body-container\",\n      children: view === 'day' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-body day-view\",\n        children: Array.from({\n          length: 24\n        }).map((_, hour) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendar-hour-row day-view-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"calendar-hour-label day-view-label\",\n            children: [hour, \":00\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"calendar-minute-slots day-view-slots\",\n            children: Array.from({\n              length: 60\n            }).map((_, minute) => {\n              const minuteKey = hour * 60 + minute;\n              const schedule = getSchedule(currentDate, minuteKey);\n              const isStartMinute = schedule.startMinute === minuteKey;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  backgroundColor: schedule.color || 'transparent',\n                  position: 'relative'\n                },\n                onClick: () => handleSlotClick(minuteKey, currentDate),\n                children: isStartMinute && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"event-title\",\n                  children: schedule.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 67\n                }, this)\n              }, minuteKey, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 45\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 33\n          }, this)]\n        }, hour, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 21\n      }, this) : view === 'week' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-body\",\n        children: Array.from({\n          length: 24\n        }).map((_, hour) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"calendar-hour-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"calendar-hour-label\",\n              children: [hour, \":00\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 37\n            }, this), currentWeek.map((day, dayIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"calendar-day-column\",\n              children: Array.from({\n                length: 60\n              }).map((_, minute) => {\n                const minuteKey = hour * 60 + minute;\n                const schedule = getSchedule(day, minuteKey);\n                const isStartMinute = schedule.startMinute === minuteKey;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"calendar-minute-slot\",\n                  style: {\n                    backgroundColor: schedule.color || 'transparent',\n                    position: 'relative',\n                    height: '0.1em'\n                  },\n                  onClick: () => handleSlotClick(minuteKey, day),\n                  children: [isStartMinute && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"event-title\",\n                    children: schedule.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 75\n                  }, this), \" \"]\n                }, minuteKey, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 53\n                }, this);\n              })\n            }, dayIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 41\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 33\n          }, this)\n        }, hour, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-body-month\",\n        children: currentMonth.map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendar-day-month\",\n          children: day ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"calendar-day-number\",\n            style: {\n              cursor: 'pointer',\n              color: 'black'\n            },\n            onClick: () => {\n              setCurrentDate(resetTimeToMidnight(day));\n              setView('day');\n            },\n            children: day.getDate()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 29\n          }, this) : ''\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: onModalClose,\n      selectedSlot: selectedSlot,\n      title: title,\n      setTitle: setTitle,\n      details: details,\n      setDetails: setDetails,\n      color: color,\n      setColor: setColor,\n      startTime: startTime,\n      setStartTime: setStartTime,\n      endTime: endTime,\n      setEndTime: setEndTime,\n      youtubeVideoId: youtubeVideoId,\n      onSave: handleSaveSchedule,\n      onDelete: handleDeleteSchedule\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 9\n  }, this);\n};\n_s(Calendar, \"sPl/J2/P47WjCo5YCxypEpZVtE8=\", false, function () {\n  return [useSelector];\n});\n_c = Calendar;\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  setTitle,\n  details,\n  setDetails,\n  color,\n  setColor,\n  startTime,\n  setStartTime,\n  endTime,\n  setEndTime,\n  youtubeVideoId,\n  onSave,\n  onDelete\n}) => {\n  _s2();\n  // Define the available hour and minute options\n  const hourOptions = Array.from({\n    length: 24\n  }, (_, index) => index); // 0-23 hours\n  const minuteOptions = Array.from({\n    length: 60\n  }, (_, index) => index); // 0-59 minutes\n\n  const handleStartTimeChange = (hour, minute) => {\n    const startMinute = hour * 60 + minute;\n    setStartTime({\n      minute: startMinute\n    });\n  };\n  const handleEndTimeChange = (hour, minute) => {\n    const endMinute = hour * 60 + minute;\n    setEndTime({\n      minute: endMinute\n    });\n  };\n  const getHourAndMinute = totalMinutes => {\n    const hours = Math.floor(totalMinutes / 60);\n    const minutes = totalMinutes % 60;\n    return {\n      hours,\n      minutes\n    };\n  };\n\n  // If startTime and endTime are set, extract the hours and minutes\n  const {\n    hours: startHour,\n    minutes: startMinute\n  } = startTime ? getHourAndMinute(startTime.minute) : {\n    hours: '',\n    minutes: ''\n  };\n  const {\n    hours: endHour,\n    minutes: endMinute\n  } = endTime ? getHourAndMinute(endTime.minute) : {\n    hours: '',\n    minutes: ''\n  };\n  const colorPresets = ['#e81416', '#ffa500', '#faeb36', '#79c314', '#487de7', '#4b369d', '#70369d'];\n  useEffect(() => {\n    if (!color) {\n      setColor('#e81416');\n    }\n  }, [color, setColor]);\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Schedule for \", title || \"Untitled\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        placeholder: \"Event Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"textarea_youtube_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: details,\n          onChange: e => setDetails(e.target.value),\n          placeholder: \"Enter event details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 21\n        }, this), youtubeVideoId && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"youtube-video\",\n          children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: `https://www.youtube.com/embed/${youtubeVideoId}`,\n            frameBorder: \"0\",\n            allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true,\n            title: title,\n            className: \"video-display\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Start Time:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"time-selection-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: startHour,\n          onChange: e => handleStartTimeChange(parseInt(e.target.value), startMinute),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            children: \"Select Hour\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 25\n          }, this), hourOptions.map(hour => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: hour,\n            children: hour\n          }, hour, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: startMinute,\n          onChange: e => handleStartTimeChange(startHour, parseInt(e.target.value)),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            children: \"Select Minute\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 25\n          }, this), minuteOptions.map(minute => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: minute,\n            children: minute\n          }, minute, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"End Time:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"time-selection-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: endHour,\n          onChange: e => handleEndTimeChange(parseInt(e.target.value), endMinute),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            children: \"Select Hour\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 25\n          }, this), hourOptions.map(hour => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: hour,\n            children: hour\n          }, hour, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: endMinute,\n          onChange: e => handleEndTimeChange(endHour, parseInt(e.target.value)),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            children: \"Select Minute\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 25\n          }, this), minuteOptions.map(minute => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: minute,\n            children: minute\n          }, minute, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"color-preset-container\",\n        children: [colorPresets.map((preset, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"color-preset\",\n          style: {\n            backgroundColor: preset,\n            border: color === preset ? '2px solid black' : 'none' // Highlight selected color\n          },\n          onClick: () => setColor(preset) // Set selected color\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 25\n        }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"color\",\n          value: color,\n          onChange: e => setColor(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-actions-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions-left\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onDelete,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onSave,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 476,\n    columnNumber: 9\n  }, this);\n};\n_s2(Modal, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c2 = Modal;\nexport default Calendar;\nvar _c, _c2;\n$RefreshReg$(_c, \"Calendar\");\n$RefreshReg$(_c2, \"Modal\");","map":{"version":3,"names":["React","useState","useEffect","axios","useSelector","jsxDEV","_jsxDEV","resetTimeToMidnight","date","newDate","Date","setHours","Calendar","onSelectSlot","videoTitle","videoDuration","videoId","_s","profile","state","currentDate","setCurrentDate","view","setView","isModalOpen","setIsModalOpen","selectedSlot","setSelectedSlot","title","setTitle","details","setDetails","color","setColor","schedules","setSchedules","startTime","setStartTime","endTime","setEndTime","youtubeVideoId","setYoutubeVideoId","minute","undefined","calculatedEndTime","Math","floor","storedSchedules","localStorage","getItem","JSON","parse","email","get","then","response","data","catch","error","console","formatDate","toISOString","split","getCurrentWeek","startOfWeek","setDate","getDate","getDay","week","i","day","push","getMonthDays","year","getFullYear","month","getMonth","startOfMonth","endOfMonth","days","currentMonth","currentWeek","handleSlotClick","_schedules$dayKey","dayKey","event","startMinute","endMinute","nextHourMinute","ceil","handleSaveSchedule","newSchedules","post","gmail","log","resetForm","handleDeleteSchedule","Object","keys","length","setItem","stringify","clearAllSchedules","removeItem","prevPeriod","setMonth","nextPeriod","getSchedule","_schedules$dayKey2","onModalClose","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","width","display","justifyContent","marginTop","marginLeft","marginRight","fontSize","backgroundColor","toLocaleDateString","weekday","margin","map","index","cursor","Array","from","_","hour","minuteKey","schedule","isStartMinute","position","Fragment","dayIndex","height","Modal","isOpen","onClose","onSave","onDelete","_c","_s2","hourOptions","minuteOptions","handleStartTimeChange","handleEndTimeChange","getHourAndMinute","totalMinutes","hours","minutes","startHour","endHour","colorPresets","type","value","onChange","e","target","placeholder","src","frameBorder","allow","allowFullScreen","parseInt","disabled","preset","border","_c2","$RefreshReg$"],"sources":["C:/Users/Lenovo/OneDrive/Documents/GitHub/Web_pro_2024/web_pro/src/components/Calendar/Calendar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Calendar.css';\r\nimport axios from 'axios';\r\nimport { useSelector } from 'react-redux';\r\n\r\n// Helper function to reset the time of a Date object to midnight\r\nconst resetTimeToMidnight = (date) => {\r\n    const newDate = new Date(date);\r\n    newDate.setHours(0, 0, 0, 0); // Set time to 00:00:00\r\n    return newDate;\r\n};\r\n\r\n\r\nconst Calendar = ({ onSelectSlot = () => {}, videoTitle = null, videoDuration = null , videoId = null}) => {\r\n\r\n    const profile = useSelector(state => state.profile);\r\n\r\n    const [currentDate, setCurrentDate] = useState(resetTimeToMidnight(new Date()));\r\n    const [view, setView] = useState('week');\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [selectedSlot, setSelectedSlot] = useState(null);\r\n    const [title, setTitle] = useState(videoTitle || \"\");\r\n    const [details, setDetails] = useState(\"\");\r\n    const [color, setColor] = useState(\"#e81416\");\r\n    const [schedules, setSchedules] = useState({}); // Store schedules in an object\r\n    const [startTime, setStartTime] = useState(null);\r\n    const [endTime, setEndTime] = useState(null);\r\n    const [youtubeVideoId, setYoutubeVideoId] = useState(videoId || null);\r\n\r\n    // Auto-calculate endTime if videoDuration is provided\r\n    useEffect(() => {\r\n        if (videoDuration && startTime && startTime.minute !== undefined) {\r\n            const calculatedEndTime = startTime.minute + Math.floor(videoDuration); // Ensure videoDuration is in minutes\r\n            setEndTime({ minute: calculatedEndTime });\r\n        }\r\n    }, [videoDuration, startTime]); \r\n\r\n    // Load schedules from local storage when component mounts\r\n    useEffect(() => {\r\n        const storedSchedules = localStorage.getItem('calendarSchedules');\r\n        if (storedSchedules) {\r\n            setSchedules(JSON.parse(storedSchedules));\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (profile && profile.email) {\r\n            // Fetch the schedules for the logged-in user\r\n            axios.get(`http://localhost:8000/get_schedules/${profile.email}`)\r\n                .then(response => {\r\n                    setSchedules(response.data);  // Load schedules from the server\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching schedules:', error);\r\n                });\r\n        }\r\n    }, [profile]);\r\n    \r\n\r\n    // Helper function to format date as YYYY-MM-DD\r\n    const formatDate = (date) => {\r\n        return date.toISOString().split('T')[0];\r\n    };\r\n\r\n    // Helper function to get the week for the current date\r\n    const getCurrentWeek = (currentDate) => {\r\n        const startOfWeek = new Date(currentDate);\r\n        startOfWeek.setDate(currentDate.getDate() - currentDate.getDay());\r\n        const week = [];\r\n        for (let i = 0; i < 7; i++) {\r\n            const day = new Date(startOfWeek);\r\n            day.setDate(startOfWeek.getDate() + i);\r\n            week.push(day);\r\n        }\r\n        return week;\r\n    };\r\n\r\n    // Helper function to get days in a specific month\r\n    const getMonthDays = (date) => {\r\n        const year = date.getFullYear();\r\n        const month = date.getMonth();\r\n        const startOfMonth = new Date(year, month, 1);\r\n        const endOfMonth = new Date(year, month + 1, 0);\r\n\r\n        const days = [];\r\n        for (let i = 0; i < startOfMonth.getDay(); i++) {\r\n            days.push(null);\r\n        }\r\n\r\n        for (let day = 1; day <= endOfMonth.getDate(); day++) {\r\n            days.push(new Date(year, month, day));\r\n        }\r\n\r\n        return days;\r\n    };\r\n\r\n    const currentMonth = getMonthDays(currentDate);\r\n    const currentWeek = getCurrentWeek(currentDate);\r\n\r\n    // Handle when a time slot is clicked\r\n    const handleSlotClick = (minute, day) => {\r\n        const dayKey = formatDate(day);\r\n        const event = schedules[dayKey]?.[minute]; \r\n\r\n        if(event){\r\n            setTitle(event.title);\r\n            setDetails(event.details);\r\n            setColor(event.color);\r\n            setStartTime({ minute: event.startMinute, day });\r\n            setEndTime({ minute: event.endMinute });\r\n            setSelectedSlot({ startMinute: event.startMinute, endMinute: event.endMinute, day });\r\n            setYoutubeVideoId(event.youtubeVideoId || null);\r\n            setIsModalOpen(true);\r\n        }\r\n        else{\r\n            if (!startTime) {\r\n                // Set start time if it's not set yet\r\n                setStartTime({ minute, day });\r\n                setColor('#e81416');\r\n            } else if (videoDuration) {\r\n                // Calculate end time based on the duration and start time\r\n                const calculatedEndTime = minute + Math.floor(videoDuration);  // Make sure we're adding in minutes\r\n                setEndTime({ minute: calculatedEndTime });\r\n                setSelectedSlot({ startMinute: minute, endMinute: calculatedEndTime, day });\r\n                setColor('#e81416');\r\n                setYoutubeVideoId(videoId);\r\n                setIsModalOpen(true);\r\n\r\n            } else if (!endTime) {\r\n                // For non-video scheduling\r\n                const nextHourMinute = Math.ceil(minute / 60) * 60; // Round to the next hour\r\n                setEndTime({ minute: nextHourMinute });\r\n                setSelectedSlot({ startMinute: startTime.minute, endMinute: minute, day });\r\n                setColor('#e81416');\r\n                setYoutubeVideoId(videoId);\r\n                setIsModalOpen(true);\r\n            }\r\n        }\r\n        \r\n    };\r\n    \r\n\r\n    const handleSaveSchedule = () => {\r\n        const dayKey = formatDate(selectedSlot?.day || currentDate);\r\n        const newSchedules = { ...schedules };\r\n    \r\n        const startMinute = startTime?.minute || 0;\r\n        const endMinute = endTime?.minute || startMinute;\r\n    \r\n        for (let i = startMinute; i <= endMinute; i++) {\r\n            if (!newSchedules[dayKey]) {\r\n                newSchedules[dayKey] = {};\r\n            }\r\n            newSchedules[dayKey][i] = {\r\n                title: title,\r\n                details,\r\n                color,\r\n                startMinute,\r\n                endMinute,\r\n                youtubeVideoId,\r\n            };\r\n        }\r\n    \r\n        setSchedules(newSchedules);\r\n    \r\n        // Save to backend\r\n        axios.post('http://localhost:8000/save_schedules/', {\r\n            gmail: profile.email,\r\n            schedules: newSchedules\r\n        })\r\n        .then(response => {\r\n            console.log(\"Schedules saved successfully!\");\r\n        })\r\n        .catch(error => {\r\n            console.error(\"Error saving schedules:\", error);\r\n        });\r\n    \r\n        setIsModalOpen(false);\r\n        resetForm();\r\n    };\r\n    \r\n\r\n    const handleDeleteSchedule = () => {\r\n        const dayKey = formatDate(selectedSlot.day);\r\n        const newSchedules = { ...schedules };\r\n\r\n        const startMinute = startTime.minute;\r\n        const endMinute = endTime.minute;\r\n\r\n        // Remove the schedule from the selected minutes\r\n        for (let i = startMinute; i <= endMinute; i++) {\r\n            if (newSchedules[dayKey]) {\r\n                delete newSchedules[dayKey][i];\r\n            }\r\n        }\r\n\r\n        // If the day has no more events, delete the day entry\r\n        if (Object.keys(newSchedules[dayKey]).length === 0) {\r\n            delete newSchedules[dayKey];\r\n        }\r\n\r\n        setSchedules(newSchedules);\r\n        localStorage.setItem('calendarSchedules', JSON.stringify(newSchedules)); // Update local storage\r\n        setIsModalOpen(false);\r\n        setStartTime(null);\r\n        setEndTime(null);\r\n        setTitle(\"\");\r\n        setDetails(\"\");\r\n        setColor(\"#e81416\"); // Reset to default color\r\n    };\r\n\r\n    const clearAllSchedules = () => {\r\n        localStorage.removeItem('calendarSchedules'); // Remove from localStorage\r\n        setSchedules({}); // Clear schedules from state\r\n    };\r\n\r\n    const prevPeriod = () => {\r\n        const newDate = new Date(currentDate);\r\n        if (view === 'day') {\r\n            newDate.setDate(currentDate.getDate() - 1);\r\n        } else if (view === 'week') {\r\n            newDate.setDate(currentDate.getDate() - 7);\r\n        } else if (view === 'month') {\r\n            newDate.setMonth(currentDate.getMonth() - 1);\r\n        }\r\n        setCurrentDate(resetTimeToMidnight(newDate));\r\n    };\r\n\r\n    const nextPeriod = () => {\r\n        const newDate = new Date(currentDate);\r\n        if (view === 'day') {\r\n            newDate.setDate(currentDate.getDate() + 1);\r\n        } else if (view === 'week') {\r\n            newDate.setDate(currentDate.getDate() + 7);\r\n        } else if (view === 'month') {\r\n            newDate.setMonth(currentDate.getMonth() + 1);\r\n        }\r\n        setCurrentDate(resetTimeToMidnight(newDate));\r\n    };\r\n\r\n    const getSchedule = (day, minute) => {\r\n        const dayKey = formatDate(day);\r\n        return schedules[dayKey]?.[minute] || {}; // Access the minute's schedule\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setTitle(\"\");       // Reset title\r\n        setDetails(\"\");     // Reset details\r\n        setColor(\"#e81416\"); // Reset color\r\n        setStartTime(null); // Reset start time\r\n        setEndTime(null);   // Reset end time\r\n    };\r\n    \r\n\r\n    const onModalClose = () => {\r\n        setIsModalOpen(false);\r\n\r\n        // Reset modal state when closing\r\n        setStartTime(null);\r\n        setEndTime(null);\r\n        setTitle(\"\");\r\n        setDetails(\"\");\r\n        setColor(\"#e81416\"); // Reset to default color\r\n    };\r\n    \r\n\r\n    return (\r\n        <div className=\"calendar\">\r\n            <div className=\"calendar-controls\">\r\n                <div className=\"view-buttons\">\r\n                    <button onClick={() => setView('day')}>Day</button>\r\n                    <button onClick={() => setView('week')}>Week</button>\r\n                    <button onClick={() => setView('month')}>Month</button>\r\n                </div>\r\n                <button style={{ width: '10%',}} onClick={prevPeriod}>&lt;</button>\r\n                <div style={{ display: 'flex', justifyContent: 'center',marginTop: '1.5%',marginLeft: '1.5%',marginRight:'1.5%',width: '20%',color: 'black', fontSize: '14px', backgroundColor: 'transparent' }}>\r\n                {view === 'week' \r\n                    ? `${currentWeek[0].toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}`\r\n                    : view === 'day' \r\n                    ? currentDate.toLocaleDateString('en-US', { weekday: 'short', month: 'long', day: 'numeric', year: 'numeric' }) \r\n                    : currentDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}\r\n                </div>\r\n                <button style={{ width: '10%', margin: 'none'}} onClick={nextPeriod}>&gt;</button>\r\n            </div>\r\n            {(view === 'day' || view === 'week') && (\r\n            <div className=\"calendar-header\">\r\n                {view === 'week' && <div className=\"empty-column\"></div>} {/* Only show empty column for 'week' view */}\r\n                {view === 'week' ? (\r\n                currentWeek.map((day, index) => (\r\n                    <div key={index} className=\"calendar-header-day\">\r\n                    <div\r\n                        style={{\r\n                        display: 'inline-block',\r\n                        color: 'white',\r\n                        fontSize: '14px',\r\n                        cursor: 'pointer',\r\n                        }}\r\n                        className=\"calendar-day-number\"\r\n                        onClick={() => {\r\n                        setCurrentDate(resetTimeToMidnight(day));\r\n                        setView('day');\r\n                        }}\r\n                    >\r\n                        {day.toLocaleDateString('en-US', { weekday: 'short', day: 'numeric' })}\r\n                    </div>\r\n                    </div>\r\n                ))\r\n                ) : (\r\n                <div className=\"calendar-header-day-day\">\r\n                    {currentDate.toLocaleDateString('en-US', { weekday: 'short', day: 'numeric' })}\r\n                </div>\r\n                )}\r\n            </div>\r\n            )}\r\n            {view === 'month' && (\r\n            <div className=\"calendar-header-month\">\r\n                {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map((day, index) => (\r\n                <div key={index} className=\"calendar-header-day\">{day}</div>\r\n                ))}\r\n            </div>\r\n            )}\r\n\r\n\r\n         \r\n            <div className=\"calendar-body-container\">\r\n                {view === 'day' ? (\r\n                    <div className=\"calendar-body day-view\">\r\n                        {Array.from({ length: 24 }).map((_, hour) => (\r\n                            <div className=\"calendar-hour-row day-view-row\" key={hour}>\r\n                                <div className=\"calendar-hour-label day-view-label\">\r\n                                    {hour}:00\r\n                                </div>\r\n                                <div className=\"calendar-minute-slots day-view-slots\">\r\n                                    {Array.from({ length: 60 }).map((_, minute) => {\r\n                                        const minuteKey = hour * 60 + minute;\r\n                                        const schedule = getSchedule(currentDate, minuteKey);\r\n                                        const isStartMinute = schedule.startMinute === minuteKey;\r\n\r\n                                        return (\r\n                                            <div key={minuteKey}\r\n                                                style={{\r\n                                                    backgroundColor: schedule.color || 'transparent',\r\n                                                    position: 'relative'\r\n                                                }}\r\n                                                onClick={() => handleSlotClick(minuteKey, currentDate)}>\r\n                                                {isStartMinute && <div className=\"event-title\">{schedule.title}</div>}\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                ) : view === 'week' ? (\r\n                    <div className=\"calendar-body\">\r\n                        {Array.from({ length: 24 }).map((_, hour) => (\r\n                            <React.Fragment key={hour}>\r\n                                <div className=\"calendar-hour-row\">\r\n                                    <div className=\"calendar-hour-label\">{hour}:00</div>\r\n                                    {currentWeek.map((day, dayIndex) => (\r\n                                        <div key={dayIndex} className=\"calendar-day-column\">\r\n                                            {Array.from({ length: 60 }).map((_, minute) => {\r\n                                                const minuteKey = hour * 60 + minute;\r\n                                                const schedule = getSchedule(day, minuteKey);\r\n                                                const isStartMinute = schedule.startMinute === minuteKey;\r\n\r\n                                                return (\r\n                                                    <div key={minuteKey} className=\"calendar-minute-slot\"\r\n                                                        style={{\r\n                                                            backgroundColor: schedule.color || 'transparent',\r\n                                                            position: 'relative',\r\n                                                            height: '0.1em',\r\n                                                        }}\r\n                                                        onClick={() => handleSlotClick(minuteKey, day)}>\r\n                                                        {isStartMinute && <div className=\"event-title\">{schedule.title}</div>} {/* Show title only at the start minute */}\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </React.Fragment>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"calendar-body-month\">\r\n                        {currentMonth.map((day, index) => (\r\n                        <div key={index} className=\"calendar-day-month\">\r\n                            {day ? (\r\n                            <div\r\n                                className=\"calendar-day-number\"\r\n                                style={{\r\n                                cursor: 'pointer',\r\n                                color: 'black'\r\n                                }}\r\n                                onClick={() => {\r\n                                setCurrentDate(resetTimeToMidnight(day));\r\n                                setView('day');\r\n                                }}\r\n                            >\r\n                                {day.getDate()}\r\n                            </div>\r\n                            ) : ''}\r\n                        </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n            \r\n\r\n            {/* Modal */}\r\n            {isModalOpen && (\r\n                <Modal\r\n                    isOpen={isModalOpen}\r\n                    onClose={onModalClose}\r\n                    selectedSlot={selectedSlot}\r\n                    title={title}\r\n                    setTitle={setTitle}\r\n                    details={details}\r\n                    setDetails={setDetails}\r\n                    color={color}\r\n                    setColor={setColor}\r\n                    startTime={startTime}\r\n                    setStartTime={setStartTime}\r\n                    endTime={endTime}\r\n                    setEndTime={setEndTime}\r\n                    youtubeVideoId={youtubeVideoId}\r\n                    onSave={handleSaveSchedule}\r\n                    onDelete={handleDeleteSchedule}\r\n                />\r\n            )}\r\n        </div>\r\n        \r\n        \r\n    );\r\n};\r\n\r\n\r\nconst Modal = ({ isOpen, onClose, title, setTitle, details, setDetails, color, setColor, startTime, setStartTime, endTime, setEndTime, youtubeVideoId, onSave, onDelete }) => {\r\n    \r\n\r\n    // Define the available hour and minute options\r\n    const hourOptions = Array.from({ length: 24 }, (_, index) => index); // 0-23 hours\r\n    const minuteOptions = Array.from({ length: 60 }, (_, index) => index); // 0-59 minutes\r\n\r\n    const handleStartTimeChange = (hour, minute) => {\r\n        const startMinute = hour * 60 + minute;\r\n        setStartTime({ minute: startMinute });\r\n    };\r\n\r\n    const handleEndTimeChange = (hour, minute) => {\r\n        const endMinute = hour * 60 + minute;\r\n        setEndTime({ minute: endMinute });\r\n    };\r\n\r\n    const getHourAndMinute = (totalMinutes) => {\r\n        const hours = Math.floor(totalMinutes / 60);\r\n        const minutes = totalMinutes % 60;\r\n        return { hours, minutes };\r\n    };\r\n\r\n    // If startTime and endTime are set, extract the hours and minutes\r\n    const { hours: startHour, minutes: startMinute } = startTime ? getHourAndMinute(startTime.minute) : { hours: '', minutes: '' };\r\n    const { hours: endHour, minutes: endMinute } = endTime ? getHourAndMinute(endTime.minute) : { hours: '', minutes: '' };\r\n\r\n    const colorPresets = ['#e81416', '#ffa500', '#faeb36', '#79c314', '#487de7', '#4b369d', '#70369d'];\r\n    useEffect(() => {\r\n        if (!color) {\r\n            setColor('#e81416');\r\n        }\r\n    }, [color, setColor]);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"modal-overlay\">\r\n            <div className=\"modal-content\">\r\n                <h2>Schedule for {title || \"Untitled\"}</h2>\r\n                <input\r\n                    type=\"text\"\r\n                    value={title}\r\n                    onChange={(e) => setTitle(e.target.value)}\r\n                    placeholder=\"Event Title\"\r\n                />\r\n\r\n                <div className=\"textarea_youtube_container\">\r\n                    <textarea\r\n                        value={details}\r\n                        onChange={(e) => setDetails(e.target.value)}\r\n                        placeholder=\"Enter event details\"\r\n                    ></textarea>\r\n\r\n                    {youtubeVideoId && (\r\n                        <div className=\"youtube-video\">\r\n                            <iframe\r\n                                src={`https://www.youtube.com/embed/${youtubeVideoId}`}\r\n                                frameBorder=\"0\"\r\n                                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                                allowFullScreen\r\n                                title={title}\r\n                                className=\"video-display\"\r\n                            ></iframe>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                \r\n                <label>Start Time:</label>\r\n                <div className=\"time-selection-container\">\r\n                    <select\r\n                        value={startHour}\r\n                        onChange={(e) => handleStartTimeChange(parseInt(e.target.value), startMinute)}\r\n                    >\r\n                        <option value=\"\" disabled>Select Hour</option>\r\n                        {hourOptions.map((hour) => (\r\n                            <option key={hour} value={hour}>{hour}</option>\r\n                        ))}\r\n                    </select>\r\n                    <select\r\n                        value={startMinute}\r\n                        onChange={(e) => handleStartTimeChange(startHour, parseInt(e.target.value))}\r\n                    >\r\n                        <option value=\"\" disabled>Select Minute</option>\r\n                        {minuteOptions.map((minute) => (\r\n                            <option key={minute} value={minute}>{minute}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n\r\n                <label>End Time:</label>\r\n                <div className=\"time-selection-container\">\r\n                    <select\r\n                        value={endHour}\r\n                        onChange={(e) => handleEndTimeChange(parseInt(e.target.value), endMinute)}\r\n                    >\r\n                        <option value=\"\" disabled>Select Hour</option>\r\n                        {hourOptions.map((hour) => (\r\n                            <option key={hour} value={hour}>{hour}</option>\r\n                        ))}\r\n                    </select>\r\n                    <select\r\n                        value={endMinute}\r\n                        onChange={(e) => handleEndTimeChange(endHour, parseInt(e.target.value))}\r\n                    >\r\n                        <option value=\"\" disabled>Select Minute</option>\r\n                        {minuteOptions.map((minute) => (\r\n                            <option key={minute} value={minute}>{minute}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"color-preset-container\">\r\n                    {colorPresets.map((preset, index) => (\r\n                        <div\r\n                            key={index}\r\n                            className=\"color-preset\"\r\n                            style={{\r\n                                backgroundColor: preset,\r\n                                border: color === preset ? '2px solid black' : 'none' // Highlight selected color\r\n                            }}\r\n                            onClick={() => setColor(preset)} // Set selected color\r\n                        ></div>\r\n                    ))}\r\n                    <input\r\n                        type=\"color\"\r\n                        value={color}\r\n                        onChange={(e) => setColor(e.target.value)}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"modal-actions-container\">\r\n                    <div className=\"modal-actions-left\">\r\n                        <button onClick={onClose}>Cancel</button>\r\n                    </div>\r\n                    <div className='modal-actions-right'>\r\n                        <button onClick={onDelete} >Delete</button>\r\n                        <button onClick={onSave}>Save</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Calendar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}